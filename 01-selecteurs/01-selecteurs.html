<!doctype html>
<html lang="fr">
  <head>
    <title>Cours jQuery</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
    .unLien {
        background-color: pink;
    }
    </style>
  </head>
  <body class="bg-secondary">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">Cours jQuery</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
            <li class="nav-item active">
                <a class="nav-link" href="#">Les sélecteurs<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Menu
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" href="../02-evenements/02-evenements.html">Événements</a>
                <a class="dropdown-item" href="#">Another action</a>
                <a class="dropdown-item" href="#">Something else here</a>
                </div>
            </li>
            </ul>
        </div>
    </nav>

   <main class="container bg-light">

        <header class="jumbotron">
            <h1 class="display-4">Les sélecteurs</h1>
            <p class="lead">Write less, do more !</p>
            <hr class="my-2">
            <p></p>
        </header>
       
       <div class="container">
            <div class="row my-4">
                <div class="col-md-12">
                    <h2>jQuery est une API</h2>
                </div>
                <div class="col-md-6 p-2">
                    <p class="lead">jQuery est ce qu'on appelle une bibliothèque ou une API (application programming interface) Javascript, c'est à dire un ensemble de fonctions qui permettent d'écrire de manière condensée, les lignes de codes les plus utilisées en Javascript.</p>
                    <p class="lead">La version 1.0 stable de JQuery a été crée en aout 2006 par un jeune homme de 22 ans du nom de John RESIG. Aujourd'hui nous en sommes à : jQuery JavaScript Library v3.5.1</p>
                    <p class="text-center"><a href="https://jquery.com" target="_blank">Le site de jQuery</a></p>
                    <p>Quel est l'avenir de jQuery ? <a href="https://hub.packtpub.com/bootstrap-5-to-replace-jquery-with-vanilla-javascript/#:~:text=The%20upcoming%20major%20version%20of,be%20replaced%20with%20vanilla%20JavaScript.&text=For%20example%2C%20last%20year%2C%20GitHub,losing%20its%20relevancy%20over%20time">En lire un peu plus</a> </p>
                </div> <!-- fin de la colonne de gauche -->

                <div class="col-md-6 p-2">
                    <h4>jQuery écrit d'une manière plus condensée</h4>
                    <p class="lead">Nous allons souvent utiliser les fonctions Javascript qui permettent d'attraper les balises HTML et les animer, ainsi en Javascript nous allons écrire d'une certaine manière et en JQuery d'une manière plus condensée.</p>
			        <p class="p-2">Une vingtaine de lignes de code en JavaScript correspond à quelques lignes seulement en jQuery. D'où le slogan : "Write less… Do more".</p>
                </div><!-- fin de la colonne de droite -->

                <div class="col-md-12">
                    <h3>Exemples</h3>
                    <ul>
                        <li><strong class="bg-dark text-white">JavaScript : </strong><br>
                            <code>document.getElementsbyTagName('p')[0].innerHTML = 'Je change le contenu du paragraphe grâce au JS.';</code></li>
                        <li><strong class="bg-dark text-white">jQuery : </strong><br>
                            <code>$('p:first').text('Je change le contenu du premier paragraphe de la page grâce à jQuery');</code></li>
                    </ul>
                </div>

            </div> <!-- fin row -->

            <div class="row justify-content-center my-4 p-3">
                
                <div class="col-md-6 p-2">
                    <h2 class="text-center">Une image</h2>
                    <figure>
                        <img src="img/chat.jpg" alt="Un petit chat blanc" class="img-fluid">
                        <figcaption class="text-center">...</figcaption>
                    </figure>
                </div>

            </div>
            
            <div class="row my-4 p-3">
                <div class="col-12 p-2">
                    <h3 class="text-center">Il existe trois manières, de plus en plus simples, d'appeler JQuery</h3>
                </div><!-- fin col -->
                <div class="col-md-4 p-2"><code>
                    &lt;script><br>
                    <div class="px-3">
                        jQuery(document).ready(function(){<br>
                        <div style="text-indent : 20px">
                            //ici j'intègrerai du code jQuery<br>
                        </div>
                        });<br>
                    </div>
                    &lt;/script></code>
                </div><!-- fin col -->
                <div class="col-md-4 p-2"><code>&lt;script><br>
                    <div class="px-3">
                        jQuery(document).ready(function(){<br>
                        <div style="text-indent : 20px">
                            //ici j'intègrerai du code jQuery<br>
                        </div>
                        });<br>
                    </div>
                    &lt;/script></code>
                </div><!-- fin col -->
                <div class="col-md-4 p-2"><code>&lt;script><br>
                    $(function(){<br>
                   <div class="px-3">
                       jQuery(document).ready(function(){<br>
                       <div style="text-indent : 20px">
                           //ici j'intègrerai du code jQuery<br>
                       </div>
                       });<br>
                   </div>
                    &lt;/script></code>
                </div>
            </div>

            <div class="row my-4 p-3">
                <div class="col-7 p-2">
                    <h2 class="text-center">Comment sélectionner des éléments ?</h2>
                    <ul>
                        <li><code>$('p');</code> // Je sélectionne tous les paragraphes</li>
                        <li><code>$('p:first');</code>// Je sélectionne le 1er p trouvé</li>
                        <li><code>$('p:last');</code>// Je sélectionne le dernier p trouvé</li>
                        <li><code>$('p[unP]');</code>// Je sélectionne un p avec l'identifiant #unP</li>
                        <li><code>$('p:eq(1)');</code>// Je sélectionne le deuxième paragraphe trouvé</li>
                        <li><code>$('p:not(.rouge)');</code>// Je sélectionne tous les sauf ceux qui ont la classe .rouge</li>
                        <li><code>$('.une-rouge');</code>// Je sélectionne tous les paragraphes ayant la classe .une-classe</li>
                        <li><code>$('#monId');</code>// Je sélectionne un p avec l'identifiant #monId pour id</li>
                        <li><code>$('p .unLien');</code>// Je sélectionne tous les éléments ayant la classe .unLien et descendants du p</li>
                        <li><code>$('p > .unLien');</code><a href="#exemple"> // Je sélectionne tous les éléments ayant la classe .unLien et enfant du p</a></li>
                        <li><code>$('.unLien + .visite');</code>// Je sélectionne les éléments ayant pour classe .visite précédés immédiatement d'un élément ayant pour classe .unLien</li>
                        <li><code>$('.unLien ~ .visite');</code>// Je sélectionne les éléments ayant pour classe .visite et précédés ou pas d'un élément ayant pour classe .unLien</li>
                        <li><a href="http://creersonsiteweb.net/page-jquery-selecteurs">Voir la liste complète </a> </li>
                    </ul>
                </div>
                <div class="col-5 p-2">
                    <h2 id="exemple">Exemple</h2>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.<span class="unLien">Numquam quaerat eius ea. Nam hic eaque ipsam porro voluptatem. Quasi, omnis. </span> Fugit facilis architecto obcaecati commodi eaque,<strong class="unLien"> Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit quaerat labore hic? <span class="unLien">At temporibus cupiditate voluptatum nesciunt </span> iusto excepturi non beatae quis necessitatibus ullam nostrum fugit eum, molestiae libero adipisci?</strong></p> 
                    
                    <div class="alert alert-success">
                        <ul>
                            <li>sa balise : $("h4")  </li>
                            <li>son #id : $("#mon_id") </li>
                            <li>sa .class : $(".ma_class")</li>
                            <li>par lui-même : $(this)  </li>
                            <li>par le type : $("input:text")</li>
                            <li>tous les types : $(":radio")</li>
                            <li>par l'attribut : $("img[alt]")</li>
                            <li>tous les attributs : $("[alt]")</li>
                            <li>par le nom de l'attribut ET sa valeur : $("img[title="un chaton"])</li>
                            <li>sélectionner plusieurs sélecteurs en même temps : $("h1, p, #monID")</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="row my-4 p-3">
                <div class="col- p-2">
                   
                </div>
            </div>

       </div> <!-- fin container -->

   </main> <!-- fin du container principal -->
   
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <!-- jquery en locale en version non mimifiée  -->
    <script src="../jquery/jquery-3.5.1.js"></script>
    <!-- mes scripts  -->
    <script>
        let lesP = document.getElementsByTagName('p');
        console.log(lesP);

        // en JS 
        let enJS = document.getElementsByTagName('p')[1].innerHTML = 'Le slogan : "Write less, do more !", en JS';
        // en jQuery 
        $('p:eq(0)').text('Le slogan : "Write less, do more !", en jQuery');

        console.log(document.getElementsByTagName('h1'));
        console.log(document.querySelector('h1'));
        console.log(document.querySelector('h1').innerHTML);
        console.log('1 ------')
        console.log($('h1')[0].innerHTML);
        console.log('2 ------')
        // fonction $() et méthode eq() et html()
        // A- La fonction query $() est l'équivalent d'un document.querySelector 
        // B- La méthode eq() permet de sélectionner en jQuery un indice ou une collection d'objet 
        // C- La méthode html() remplace .innerHTML pour récupérer ou redéfinir un contenu de balise et permet d'injecter des contenus HTML
        // D- La méthode .text permet de remplacer le texte
        
        console.log($('p').eq(6).html());

        // mini-exo : changer le contenu du h1 et faire un lien vers le site jquery sur le slogan

        $('h1').eq(0).text('Les sélecteurs | écrit en jQuery');
        $('p').eq(0).html('<a href="https://jquery.com">"Write less, do more !"</a>');

        console.log('3 ------')

        // on peut aussi tout changer

        // $('p').html('Paragraphe')

        // on peut passer le tout dans des variables

        let unP = $('p').eq(4).html();
        console.log(unP);

        console.log('4 ------');

        //la méthode css appliquer des changements css en remplacement de .style

        $('p').eq(7).css("background-color", "lightgrey");

        // on va plutot écrire cela ainsi 
        $('p').eq(4).css({
            'font-weight': 'bold',
            'padding': '5px',
            'border': '1px solid blue'
        });
        
        // sélectionner toutes les divs et leur donner une bordure

        // $('div').css({
        //     'border': '1px solid lightgray'
        // })

        //sélectionner tous les éléments de la classe 'lead'
        
        console.log($('.lead'));
        $('.lead').css({
            'background-color': 'lightblue',
            'color' : 'white',
            'margin-right' : '10px',
            'margin-left': '10px'
        });
        //5- append() et prepend()

        // ajouter avant le contenu avec prepend()
        $('p').eq(3).prepend('<span class="bg-secondary text-light text-center">Coucou !</span>');

        // ajouter après le contenu avec append()
        $('p').eq(3).append('<span class="bg-secondary text-light text-center">Au revoir</span>');

        // sélectionner plusieurs éléments 
        console.log($('h1, h2, p'));
        // $('h1, h2, p').prepend('- ');

        // 6- Manipulation de classes avec addClass(), removeClass(), toggleClass() et hasClass()
        console.log($('code'));
        $('code').eq(1).addClass('bg-secondary');

        console.log($('.lead'));
        $('.lead').eq(1).removeClass('lead');

        //hasClass()
        //toggleClass()

        // 7-Manipulations d'attributs attr() et removeAttr()
        //attr() ajoute un attribut

        $('h1').eq(0).attr('title', 'le jQuery est plus simpli');
        
        //removeAttr()
        console.log($('strong'));
        $('strong:eq(0), strong:eq(1)').removeAttr('class');

        // 8-Manipulations des parents et des enfants 
         $('figure').find('img').attr('title', 'un petit chat blanc tout doux');

         // mini exo : récuoérer l'attribut alt de img dans une variable lAlt 

         let lAlt = $('figure').find('img').attr('alt');
         console.log(typeof lAlt, lAlt,);

        //puis demander à jQuery d'afficher le contenu de la variable dans figcaption
        $('figure').find('figcaption').text(lAlt);
        $('figcaption').text(lAlt).css({
            'color' : 'white',
            'background-color' : 'pink',
            'height' : '50px',
            'line-height' : '50px',
            'text-transform' : 'uppercase',
            'font-weight' : 'bold'
        });

        let exemple1 = $('p > .unLien');
        console.log(exemple1)


    </script>

  </body>
</html>